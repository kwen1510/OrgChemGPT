<!DOCTYPE html>
<html>
<head>
	<title>ChemGPT</title>
</head>
<body>
	<h1>ChemGPT</h1>
	<label for="question">Question:</label>
	<input type="text" id="question" name="question" value="Why are alkanes unreactive?">
	<button onclick="getResponse()">Submit</button>
	<br><br>
    <div id="outputDiv"></div>

	<script>
		function getResponse() {
			let queryString = document.getElementById("question").value;

            let url = "https://langchain-1-e2345732.deta.app/query/"

            console.log(url)

            console.log(queryString)

            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");
            myHeaders.append("Content-Type", "application/x-www-form-urlencoded")

            var raw = JSON.stringify({
                "query_string": queryString
            });

            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                mode: 'no-cors',
                body: raw,
                redirect: 'follow'
            };

            fetch(url, requestOptions)
                .then(response => response.text())
                // .then(result => responseBox.innerHTML = result)
                .then(result => console.log(result))
                .catch(error => console.log('error', error));



		}
	</script>
</body>
</html>
