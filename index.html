<!DOCTYPE html>
<html>
<head>
	<title>OrgChemGPT</title>
</head>
<body>
	<h1>OrgChemGPT</h1>
	<label for="question">Question:</label>
	<input type="text" id="question" name="question" value="Why are alkanes unreactive?">
	<button onclick="getResponse()">Submit</button>
	<br><br>
    <div id="outputDiv"></div>

	<script>
		function getResponse() {
			let queryString = document.getElementById("question").value;
            let outputDiv = document.getElementById("outputDiv")

            let url = "https://langchain-1-e2345732.deta.app/query/"

            outputDiv.innerHTML = <p style="color: blue;">Thinking...</p>
            
            // console.log(url)

            // console.log(queryString)

            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");
            
            var raw = JSON.stringify({
                "query_string": queryString
            });

            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };

            fetch(url, requestOptions)
                .then(response => response.json())
                .then(result => outputDiv.innerHTML = result.text)
                // .then(result => console.log(result))
                .catch(error => console.log('error', error));



		}
	</script>
</body>
</html>
